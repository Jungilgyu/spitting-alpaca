### 공유 디렉토리 설정
```
mkdir /data
```

### 데이터 공유 상태
호스트 /data/front : nginx도커의 /usr/share/nginx/html
호스트 /data/jenkins : jenkins도커의 /etc/jenkins_home과 연결시켜 주었습니다. 실수로 인해 이미지가 삭제되는 것에 대해 바로 다시 띄울 수 있도록 연결해두었습니다.
호스트 /data: 젠킨스의/data를 통해 빌드 결과물을 다른 컨테이너에서 접근 가능할 수 있도록 볼륨을 연결해주었습니다.

## 공유 폴더의 설명
공유 디렉토리에 빌드한 결과물을 넣음으로써, 컨테이너들이 서로 데이터를 공유할 수 있게 사용했습니다.

1. 처음 깃랩에 머지리퀘스트가 올라옵니다.
2. 웹훅을 연결한 깃랩은 트리거를 통해 젠킨스에게 보냅니다.
3. 젠킨스에선 해당 깃 브랜치를 가져와서 빌드 결과물만  /data/front에 넣어줍니다. /data/front는 nginx와도 공유하고 있어, 웹으로 접속할 경우 배포 결과물을 볼 수 있습니다.

### Nginx 설치
엔진엑스는 80, 443포트 포워딩해주었다.
```
docker run -p 80:80 -p 443:443 -v /data/front:/usr/share/nginx/html --name nginx nginx
```
엔진엑스가 디폴트로 index.html 읽는 곳에 공유데이터를 연결해주었다.

### certbot 설치
```
docker exec -it nginx bash # 엔진엑스 접속
apt update
apt install certbot -y
apt-get install python3-certbot-nginx -y
certbot --nginx
```
